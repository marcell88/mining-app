# prompts.py



FILTER_INSTRUCTIONS = """
Анализируй текст новости по следующим критериям. 
В поле `filter` укажи "Нет", если соответствует ХОТЯ БЫ ОДНОМУ из условий:

1. Трагические события:
   - Гибель людей или травмы (особенно детей)
   - Смерть или страдание животных
   - Террористические акты
   - Изнасилование или покушение на изнасилование
   - Риск жизни или здоровью для уязвимых групп (дети, женщины, беременные, инвалиды)
   - Природные и техногенные катастрофы
   - Авиапроисшествия и дорожные происшествия с жертвами

2. Военная тематика:
   - Сводки о боевых действиях
   - Страдания мирного населения на войне
   - Проблемы ветеранов со здоровьем (физические, психологические)
   - Последствия атак (особенно с жертвами)
   - Атаки беспилотников (БПЛА, БЭК)
   - Диверсии и их последствия

3. Запрещенные темы:
   - Аборты
   - Чечня и семья Кадыровых
   - ЛГБТ-пропаганда
   - Педофилия и порнография
   - Оскорбление религиозных чувств
   - Обманы мошенниками людей, особенно, пожилых и пенсионеров

4. Нежелательный контент:
   - Рекламные и маркетинговые материалы, откровенный пиар
   - Дайджесты новостей
   - Сухие информационные сводки (ДТП, пробки, погода, финансы, спортивные результаты)

5. Технические требования:
   - Отсутствует нормальная ссылка, а указано "Исходный канал/пользователь: Неизвестный источник"

Во всех остальных случаях указывай в поле `filter` "Да".

В поле `explain` кратко объясни решение (1-2 предложения), указав конкретный пункт нарушения.
"""



CONTEXT_FILTRATION_INSTRUCTIONS = """
Проанализируй текст новости и оцени каждый критерий по шкале от 0 до 10 баллов, где:
- 10 = информация указана явно или очевидна
- 5-9 = информация частично доступна (оценка по степени ясности)
- 0-4 = информация отсутствует или крайне неясна

Критерии оценки:
1. subject (0-10): Насколько четко определены субъекты действия (люди/организации/группы)?
2. object (0-10): Насколько ясно указан объект или цель действия?
3. which (0-10): Насколько детально описаны субъекты/объекты (характеристики, предыстория)?
4. action (0-10): Насколько четко описано основное действие/событие?
5. time_place (0-10): Насколько конкретны указания времени и места?
6. how (0-10): Насколько хорошо объяснен метод/механизм действия?
7. reason (0-10): Насколько четко представлены мотивы/причины?
8. consequences (0-10): Насколько ясно описаны последствия/результаты?

Формат ответа должен быть JSON-объектом с полями:
- subject (число от 0 до 10)
- object (число от 0 до 10)
- which (число от 0 до 10)
- action (число от 0 до 10)
- time_place (число от 0 до 10)
- how (число от 0 до 10)
- reason (число от 0 до 10)
- consequences (число от 0 до 10)
- explain (строка с кратким пояснением оценок)
"""



# Новые инструкции для оценки эмоциональной яркости
EMOTION_INSTRUCTIONS = """
Оцени по шкале от 0 до 10 баллов степень эмоциональной яркости данной новости:

Например:
1) 0 баллов — Нет эмоций: Сухие факты, статистика, бюрократические решения («Парламент принял поправки к налоговому кодексу»).
2) 2 балла — Слабая эмоция: Едва заметный отклик, но без яркости («В городе открыли новый парк»).
3) 4 балла — Умеренная эмоция: Чувства есть, но они предсказуемы («Школьники собрали деньги на лечение собаки»).
4) 6 балла — Яркая эмоция: Новость вызывает смех, удивление, лёгкое возмущение или умиление («Кот стал почетным членом библиотеки за борьбу с мышами»).
5) 8 баллов — Сильная эмоция: Громкий повод для обсуждения, провоцирует живую реакцию («Жительница отсудила у метеорологов компенсацию за «недоставленное» солнце»).
6) 10 баллов — Взрывная эмоция: Новость, которую все будут обсуждать из-за её абсурдности, трогательности или эпичности («Пенсионер переплыл озеро на диване, чтобы доказать внуку, что возраст — не помеха»).

====

Меня интересуют следующие эмоции (только их оценивай):
1) радость, восторг, умиление, удивление
2) возмущение, ирония, сатира, драматизм
3) смешанные эмоции (когда одновременно и положительные и отрицательные)
4) чувство неловкости

====

При оценки эмоции обрати особое внимание на следующие факторы:
1) «Расскажу ли я эту новость кому-то чтобы обсудить ее?» Если да — эмоция есть.
2) «Есть ли в новости момент, который цепляет?» (неожиданный поворот, трогательная деталь, курьёз).
3) «Можно ли представить реакцию людей?» (например: «Ой, ну надо же!» или «Как так вообще?!»).

====

Игнорируй (поставь оценку 0 баллов), если:
1) эмоция фейковая (например, «Человек сделал что-то обычное, но журналисты раздули»)
2) эмоция темная (например, «Полицейский застрелил собаку»)

====

Формат ответа должен быть JSON-объектом с полями:
- score (число от 0 до 10)
- explain (строка с кратким объяснением оценки)

"""



# Новые инструкции для оценки образности
IMAGE_INSTRUCTIONS = """
Оцени по шкале от 0 до 10 баллов степень визуальной образности данной новости:

Например:
1) 0 баллов — Нет образов: Абстрактные данные, цифры, декларации (например, «Инфляция снизилась на 0,5%»).
2) 2 балла — Слабый образ: Есть объект, но он скучный (например, «Депутат подал законопроект»).
3) 4 балла — Общепринятый символ: Узнаваемый, но без деталей (например, «Аист принёс ребёнка»).
4) 6 баллов — Яркая деталь: Запоминающаяся сцена (например, «Полицейский танцевал на перекрёстке, чтобы разрядить пробку»).
5) 8 баллов — Кинематографичность: Готовый эпизод для комедии (например, «Бабушка гналась за вориком на самокате с котелком в руках»).
6) 10 баллов — Шедевр абсурда: Образ настолько силён, что становится мемом (например, «Космонавт в скафандре покупает шаурму в подмосковном ларьке»).

====

Меня особенно интересуют следующие детали:
1) Персонажи с фишками: например, необычная внешность, поведение, контраст
2) Действия, которые хочется «увидеть»: например, динамика, нелепости, неожиданность
3) Предметы как символы: например, нестандартные артефакты, гиперболы
4) Место и атмосфера: например, локация, детали фона

====

При оценки образности обрати особое внимание на следующие факторы:
1) «Можно ли нарисовать эту новость одним кадром?» Если да — образ есть.
2) «Какие конкретные детали запомнились?» (цвет, жест, предмет).
3) «Будет ли это смешно/трогательно/странно выглядеть в реальности?»

====

Игнорируй (поставь оценку 0 баллов), если:
1) «Слепые» новости: Нет описаний, только факты («Компания увеличила прибыль»).
2) Шаблонные образы: Клише без изюминки («Дети посадили дерево»).
3) Слишком мрачные визуалы: Даже если не трагедия («Больница отказалась лечить пациента без полиса»).

====

Формат ответа должен быть JSON-объектом с полями:
- score (число от 0 до 10)
- explain (строка с кратким объяснением оценки)

"""



# Новые инструкции для оценки интересности героев
HEROES_INSTRUCTIONS = """
Оцените по шкале от 0 до 10, насколько герои новости могут быть интересны читателю.

Например:
1) 0 баллов - Совершенно неинтересен: Анонимный источник или случайный человек без значимой роли и интересной истории (например, "По словам прохожего, дождь шел всю ночь")
2) 2 балла - Слегка интересен: Обычный человек в немного необычной ситуации (например, "Учитель математики собрал 1000 книг для сельской школы")
3) 4 балла - Умеренно интересен: Эксперт или местная знаменитость с узкой известностью (например, "Шеф-повар ресторана раскритиковал новый пищевой тренд")
4) 6 баллов - Достаточно интересен: Известный герой или необычная история (например, "Ученый, разработавший вакцину, дал интервью о будущем медицины")
5) 8 баллов - Очень интересен: Медийная персона с интересной историей (например, "Популярный актер публично выступил против цензуры в кино")
6) 10 баллов - Максимально интересен: Персона, чьи действия/слова могут повлиять на многих людей (например, "Глава государства объявил о реформе образования")

====

При оценки интересности героев обрати особое внимание на следующие факторы:
1) Популярность (но не только!) – известность в своей сфере (от локальной до мировой).
2) Роль в новости – ключевой герой или второстепенный участник?
3) Конфликт/драма – есть ли в его действиях что-то провокационное, неожиданное, эмоциональное?
4) Актуальность темы – насколько его слова/действия связаны с важными общественными вопросами?
5) История личности – есть ли у него репутация, скандалы, достижения, которые делают его интереснее?

====

Формат ответа должен быть JSON-объектом с полями:
- score (число от 0 до 10)
- explain (строка с кратким объяснением оценки)

"""



# Новые инструкции для оценки актуальности
ACTUAL_INSTRUCTIONS = """
Оцени по шкале от 0 до 10 баллов, насколько данная новость актуальна для среднего жителя России.

Например:
1) 0 баллов - Совершенно неактуально: Новость не представляет интереса для современной аудитории (пример: "В ботаническом саду расцвел редкий цветок").
2) 2 балла - Минимальная актуальность: Локальное событие без глубокого смысла (пример: "В провинциальном городке открыли новый магазин").
3) 4 балла - Умеренная актуальность: Событие, отражающее отдельные современные тренды (пример: "Школьники создали приложение для учета расходов").
4) 6 баллов - Значительная актуальность: Новость затрагивает важные социальные темы (пример: "Исследование: 40% работников испытывают профессиональное выгорание").
5) 8 баллов - Высокая актуальность: Прямо или метафорично отражает ключевые проблемы общества (пример: "Закрытие последнего книжного магазина в районе (метафора упадка культуры)").
6) 10 баллов - Максимальная актуальность: Событие, определяющее современную повестку (пример: "Крупная IT-компания массово заменила сотрудников ИИ").

====

Критерии оценки:
1) Прямое влияние на жизнь людей
2) Отражение актуальных социальных проблем
3) Метафорическое значение (например, локальные события, затрагивающие актуальные проблемы)
4) Потенциал для общественной дискуссии

====

При оценки актуальности обрати особое внимание на следующие факторы:
1) Масштаб воздействия - Сколько людей может затронуть новость? Это локальная история или имеет более широкое значение?
2) Тематическая значимость - Затрагивает ли новость "болевые точки" современного общества? Какие актуальные тренды/проблемы отражает (даже метафорически)?
3) Временной фактор - Насколько новость соответствует текущему моменту? Не утратила ли она актуальность?
4) Потенциал дискуссии - Вызовет ли новость общественное обсуждение? Есть ли в ней элементы полемики?
5) Метафорический уровень - Какие универсальные проблемы иллюстрирует? Можно ли экстраполировать на более широкий контекст?
6) Долгосрочные последствия - Может ли новость повлиять на ситуацию в будущем? Является ли она "симптомом" более глубоких изменений?
7) Эмоциональный резонанс - Вызывает ли новость сильную эмоциональную реакцию? Затрагивает ли базовые ценности/страхи?

====
Игнорируй (поставь оценку 0 баллов), если:
1) Сугубо технические/узкоспециальные детали
2) Персональные истории без социального контекста
3) Устаревшие данные (если только это не исторический анализ)

====

Формат ответа должен быть JSON-объектом с полями:
- score (число от 0 до 10)
- explain (строка с кратким объяснением оценки)

"""



# Новые инструкции для оценки драматичности
DRAMA_INSTRUCTIONS = """
Оцени по шкале от 0 до 10 баллов степень драмы:

Например:
1) 0 баллов — Нет драмы: Сухие факты, рутина (например, «В городе открыли новую аптеку»).
2) 2 балла — Слабая драма: Минимальный конфликт (например, «Соседи поспорили из-за парковки»).
3) 4 балла — Умеренная драма: Заметное противостояние или трудности (например, «Фермер потерял урожай из-за засухи»).
4) 6 баллов — Яркая драма: Эмоциональный сюжет с неожиданным поворотом (например, «Пенсионер 10 лет судился с банком из-за копеечного долга»).
5) 8 баллов — Сильная драма: Глубокий конфликт или трогательная история (например, «Бездомный пес 2 года ждал хозяина у больницы»).
6) 10 баллов — Граница допустимого: Почти трагедия, но без необратимых последствий (например, «Человек выжил после падения с 5 этажа, сломав только горшок с кактусом»).

====

Меня особенно интересуют следующие типы драм:
1) Конфликт «маленького человека» и системы
2) Неожиданный поворот в обычной истории
3) Символичные или трогательные моменты
4) Абсурдная драма (смех сквозь слезы)

====

При оценки образности обрати особое внимание на следующие факторы:
1) Конфликты, где есть явная несправедливость/абсурд (можно высмеять).
2) Истории с преодолением, но без надрыва («Человек с инвалидностью покорил Эльбрус»).
3) Курьёзные драмы («Кот съел важный документ — пришлось делать операцию»).

====

Формат ответа должен быть JSON-объектом с полями:
- score (число от 0 до 10)
- explain (строка с кратким объяснением оценки)

"""


COMMENTARY_RECOMMENDATIONS_INSTRUCTIONS = """
Ты — эксперт по созданию художественных комментариев к новостям.
На основе следующей новости и анализа ее характеристик, напиши рекомендации
для создания художественного комментария. За основу бери только те характеристики,
которые явно указаны ниже с их баллами и объяснениями. Сфокусируйся на том, что в новости
рождает особенно большой интерес для читателя, делая упор на эти высокобалльные аспекты.
Избегай прямого цитирования новости, перефразируй и интерпретируй.
Ответ должен быть кратким, не более 5 предложений.

Новость: {main_message}

Высокобалльные характеристики и их анализ:
{combined_explains_for_prompt}

Рекомендации:
"""